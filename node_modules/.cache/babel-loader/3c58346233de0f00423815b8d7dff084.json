{"ast":null,"code":"import _slicedToArray from\"E:/Desktop/game-pikachu-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useTranslation}from\"react-i18next\";import{Helmet}from\"react-helmet\";import useLocalStorage from\"../hooks/useLocalStorage\";import{useSetRecoilState}from\"recoil\";import playerState from\"../recoil/atoms/playerState\";import SwitchLanguage from\"../components/SwitchLanguage\";import{useHistory}from\"react-router-dom\";import{Routes}from\"../routes/CONSTANTS\";import{nanoid}from\"nanoid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PlayerPage=function PlayerPage(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();var setPlayer=useSetRecoilState(playerState);var _useLocalStorage=useLocalStorage(\"playerName\",\"\"),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),_=_useLocalStorage2[0],saveLocalPlayerName=_useLocalStorage2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var playerName=event.currentTarget.playerName.value;if(playerName&&playerName.trim()!==\"\"){if(playerName.match(/^[a-zA-Z0-9 ]*$/gim)){var newPlayerName=playerName+\"-\"+nanoid(6);saveLocalPlayerName(newPlayerName);setPlayer({playerName:newPlayerName,playerTiming:0});history.push(Routes.MAIN_PAGE);}else{alert(t(\"Accept alphabet and digit only.\"));}}else{alert(t(\"Please enter your name\"));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-board\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/_jsx(\"title\",{children:\"Pika pika! - Player board\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"playerName\",autoFocus:true,placeholder:t(\"Enter your name here\"),maxLength:20,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"button\",{children:t(\"Submit\")})]}),/*#__PURE__*/_jsx(SwitchLanguage,{})]})]});};export default PlayerPage;","map":{"version":3,"sources":["E:/Desktop/game-pikachu-v2/src/pages/PlayerPage.tsx"],"names":["useTranslation","Helmet","useLocalStorage","useSetRecoilState","playerState","SwitchLanguage","useHistory","Routes","nanoid","PlayerPage","t","history","setPlayer","_","saveLocalPlayerName","handleSubmit","event","preventDefault","playerName","currentTarget","value","trim","match","newPlayerName","playerTiming","push","MAIN_PAGE","alert"],"mappings":"iJAAA,OAASA,cAAT,KAA+B,eAA/B,CACA,OAASC,MAAT,KAAuB,cAAvB,CACA,MAAOC,CAAAA,eAAP,KAA4B,0BAA5B,CACA,OAASC,iBAAT,KAAkC,QAAlC,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,MAAT,KAAuB,qBAAvB,CACA,OAASC,MAAT,KAAuB,QAAvB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,oBAAcT,cAAc,EAA5B,CAAQU,CAAR,iBAAQA,CAAR,CACA,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CACA,GAAMM,CAAAA,SAAS,CAAGT,iBAAiB,CAACC,WAAD,CAAnC,CACA,qBAAiCF,eAAe,CAAC,YAAD,CAAe,EAAf,CAAhD,sDAAOW,CAAP,sBAAUC,mBAAV,sBAEA,GAAMC,CAAAA,YAA+C,CAAG,QAAlDA,CAAAA,YAAkD,CAACC,KAAD,CAAW,CACjEA,KAAK,CAACC,cAAN,GACA,GAAMC,CAAAA,UAAU,CAAGF,KAAK,CAACG,aAAN,CAAoBD,UAApB,CAA+BE,KAAlD,CACA,GAAIF,UAAU,EAAIA,UAAU,CAACG,IAAX,KAAsB,EAAxC,CAA4C,CAC1C,GAAIH,UAAU,CAACI,KAAX,CAAiB,oBAAjB,CAAJ,CAA4C,CAC1C,GAAMC,CAAAA,aAAa,CAAGL,UAAU,CAAG,GAAb,CAAmBV,MAAM,CAAC,CAAD,CAA/C,CACAM,mBAAmB,CAACS,aAAD,CAAnB,CACAX,SAAS,CAAC,CAAEM,UAAU,CAAEK,aAAd,CAA6BC,YAAY,CAAE,CAA3C,CAAD,CAAT,CACAb,OAAO,CAACc,IAAR,CAAalB,MAAM,CAACmB,SAApB,EACD,CALD,IAKO,CACLC,KAAK,CAACjB,CAAC,CAAC,iCAAD,CAAF,CAAL,CACD,CACF,CATD,IASO,CACLiB,KAAK,CAACjB,CAAC,CAAC,wBAAD,CAAF,CAAL,CACD,CACF,CAfD,CAiBA,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,MAAC,MAAD,yBACE,aAAM,OAAO,CAAC,OAAd,EADF,cAEE,oDAFF,GADF,cAKE,oCACE,cAAM,QAAQ,CAAEK,YAAhB,wBACE,cACE,IAAI,CAAC,YADP,CAEE,SAAS,KAFX,CAGE,WAAW,CAAEL,CAAC,CAAC,sBAAD,CAHhB,CAIE,SAAS,CAAE,EAJb,CAKE,YAAY,CAAC,KALf,EADF,cAQE,wBAASA,CAAC,CAAC,QAAD,CAAV,EARF,GADF,cAWE,KAAC,cAAD,IAXF,GALF,GADF,CAqBD,CA5CD,CA8CA,cAAeD,CAAAA,UAAf","sourcesContent":["import { useTranslation } from \"react-i18next\";\nimport { Helmet } from \"react-helmet\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { useSetRecoilState } from \"recoil\";\nimport playerState from \"../recoil/atoms/playerState\";\nimport { FormEventHandler } from \"react\";\nimport SwitchLanguage from \"../components/SwitchLanguage\";\nimport { useHistory } from \"react-router-dom\";\nimport { Routes } from \"../routes/CONSTANTS\";\nimport { nanoid } from \"nanoid\";\n\nconst PlayerPage = () => {\n  const { t } = useTranslation();\n  const history = useHistory();\n  const setPlayer = useSetRecoilState(playerState);\n  const [_, saveLocalPlayerName] = useLocalStorage(\"playerName\", \"\");\n\n  const handleSubmit: FormEventHandler<HTMLFormElement> = (event) => {\n    event.preventDefault();\n    const playerName = event.currentTarget.playerName.value;\n    if (playerName && playerName.trim() !== \"\") {\n      if (playerName.match(/^[a-zA-Z0-9 ]*$/gim)) {\n        const newPlayerName = playerName + \"-\" + nanoid(6);\n        saveLocalPlayerName(newPlayerName);\n        setPlayer({ playerName: newPlayerName, playerTiming: 0 });\n        history.push(Routes.MAIN_PAGE);\n      } else {\n        alert(t(\"Accept alphabet and digit only.\"));\n      }\n    } else {\n      alert(t(\"Please enter your name\"));\n    }\n  };\n\n  return (\n    <div className=\"main-board\">\n      <Helmet>\n        <meta charSet=\"utf-8\" />\n        <title>Pika pika! - Player board</title>\n      </Helmet>\n      <div>\n        <form onSubmit={handleSubmit}>\n          <input\n            name=\"playerName\"\n            autoFocus\n            placeholder={t(\"Enter your name here\")}\n            maxLength={20}\n            autoComplete=\"off\"\n          />\n          <button>{t(\"Submit\")}</button>\n        </form>\n        <SwitchLanguage />\n      </div>\n    </div>\n  );\n};\n\nexport default PlayerPage;\n"]},"metadata":{},"sourceType":"module"}