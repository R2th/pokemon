{"ast":null,"code":"import{memo,useEffect}from\"react\";import{getActivePlayers}from\"../../api/user\";import useAsync,{ResponseStatus}from\"../../hooks/useAsync\";import{preventReRender}from\"../../utils/memo\";import ActivePlayer from\"./ActivePlayer\";import{jsx as _jsx}from\"react/jsx-runtime\";var ListActivePlayers=function ListActivePlayers(){var _activePlayersRespons;var _useAsync=useAsync(getActivePlayers,true),status=_useAsync.status,activePlayersResponse=_useAsync.value,error=_useAsync.error,execute=_useAsync.execute;useEffect(function(){console.log(\"timeoutId\");var timeoutId=setTimeout(function(){execute();},30000);return function(){timeoutId&&clearTimeout(timeoutId);};},[status]);return/*#__PURE__*/_jsx(\"ul\",{className:\"active-players-box\",children:status===ResponseStatus.SUCCESS&&(activePlayersResponse===null||activePlayersResponse===void 0?void 0:(_activePlayersRespons=activePlayersResponse.data)===null||_activePlayersRespons===void 0?void 0:_activePlayersRespons.map(function(activePlayer,index){return/*#__PURE__*/_jsx(ActivePlayer,{playerName:activePlayer},activePlayer.replace(/^.*-/g,\"\"));}))});};export default/*#__PURE__*/memo(ListActivePlayers,preventReRender);","map":{"version":3,"sources":["E:/Desktop/game-pikachu-v2/src/components/Chat/ListActivePlayers.tsx"],"names":["memo","useEffect","getActivePlayers","useAsync","ResponseStatus","preventReRender","ActivePlayer","ListActivePlayers","status","activePlayersResponse","value","error","execute","console","log","timeoutId","setTimeout","clearTimeout","SUCCESS","data","map","activePlayer","index","replace"],"mappings":"AAAA,OAASA,IAAT,CAAeC,SAAf,KAAgC,OAAhC,CACA,OAAgCC,gBAAhC,KAAwD,gBAAxD,CACA,MAAOC,CAAAA,QAAP,EAAmBC,cAAnB,KAAyC,sBAAzC,CACA,OAASC,eAAT,KAAgC,kBAAhC,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,2CAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,2BAC9B,cAKIJ,QAAQ,CAAwBD,gBAAxB,CAA0C,IAA1C,CALZ,CACEM,MADF,WACEA,MADF,CAESC,qBAFT,WAEEC,KAFF,CAGEC,KAHF,WAGEA,KAHF,CAIEC,OAJF,WAIEA,OAJF,CAOAX,SAAS,CAAC,UAAM,CACdY,OAAO,CAACC,GAAR,CAAY,WAAZ,EACA,GAAMC,CAAAA,SAAS,CAAGC,UAAU,CAAC,UAAM,CACjCJ,OAAO,GACR,CAF2B,CAEzB,KAFyB,CAA5B,CAIA,MAAO,WAAM,CACXG,SAAS,EAAIE,YAAY,CAACF,SAAD,CAAzB,CACD,CAFD,CAGD,CATQ,CASN,CAACP,MAAD,CATM,CAAT,CAWA,mBACE,WAAI,SAAS,CAAC,oBAAd,UACGA,MAAM,GAAKJ,cAAc,CAACc,OAA1B,GACCT,qBADD,SACCA,qBADD,wCACCA,qBAAqB,CAAEU,IADxB,gDACC,sBAA6BC,GAA7B,CACE,SAACC,YAAD,CAAuBC,KAAvB,qBACE,KAAC,YAAD,EACE,UAAU,CAAED,YADd,EAEOA,YAAY,CAACE,OAAb,CAAqB,OAArB,CAA8B,EAA9B,CAFP,CADF,EADF,CADD,CADH,EADF,CAaD,CAhCD,CAkCA,2BAAevB,IAAI,CAACO,iBAAD,CAAoBF,eAApB,CAAnB","sourcesContent":["import { memo, useEffect } from \"react\";\r\nimport { ActivePlayersResponse, getActivePlayers } from \"../../api/user\";\r\nimport useAsync, { ResponseStatus } from \"../../hooks/useAsync\";\r\nimport { preventReRender } from \"../../utils/memo\";\r\nimport ActivePlayer from \"./ActivePlayer\";\r\n\r\nconst ListActivePlayers = () => {\r\n  const {\r\n    status,\r\n    value: activePlayersResponse,\r\n    error,\r\n    execute,\r\n  } = useAsync<ActivePlayersResponse>(getActivePlayers, true);\r\n\r\n  useEffect(() => {\r\n    console.log(\"timeoutId\");\r\n    const timeoutId = setTimeout(() => {\r\n      execute();\r\n    }, 30000);\r\n\r\n    return () => {\r\n      timeoutId && clearTimeout(timeoutId);\r\n    };\r\n  }, [status]);\r\n\r\n  return (\r\n    <ul className=\"active-players-box\">\r\n      {status === ResponseStatus.SUCCESS &&\r\n        activePlayersResponse?.data?.map(\r\n          (activePlayer: string, index: number) => (\r\n            <ActivePlayer\r\n              playerName={activePlayer}\r\n              key={activePlayer.replace(/^.*-/g, \"\")}\r\n            />\r\n          )\r\n        )}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default memo(ListActivePlayers, preventReRender);\r\n"]},"metadata":{},"sourceType":"module"}